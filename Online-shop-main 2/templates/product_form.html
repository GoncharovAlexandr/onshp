{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container mx-auto p-4">
    <h2 class="text-2xl font-semibold mb-6">{{ title }}</h2>
    <form method="post" action="{{ action }}" enctype="multipart/form-data" class="space-y-4">
        <div>
            <label for="name" class="block text-sm font-medium">Название</label>
            <input type="text" name="name" id="name" value="{{ product.name if product else '' }}" required class="w-full p-2 border rounded">
        </div>
        <div>
            <label for="price" class="block text-sm font-medium">Цена</label>
            <input type="number" step="0.01" name="price" id="price" value="{{ product.price if product else '' }}" required class="w-full p-2 border rounded">
        </div>
        <div>
            <label for="category_id" class="block text-sm font-medium">Категория</label>
            <select name="category_id" id="category_id" required class="w-full p-2 border rounded">
                {% for category in categories %}
                <option value="{{ category.id }}" {% if product and product.category_id == category.id %}selected{% endif %}>{{ category.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div>
            <label for="stock_quantity" class="block text-sm font-medium">Количество на складе</label>
            <input type="number" name="stock_quantity" id="stock_quantity" value="{{ product.stock_quantity if product else '' }}" required class="w-full p-2 border rounded">
        </div>
        <div>
            <label for="description" class="block text-sm font-medium">Описание</label>
            <textarea name="description" id="description" class="w-full p-2 border rounded">{{ product.description if product else '' }}</textarea>
        </div>
        <div>
            <label for="image" class="block text-sm font-medium">Изображение</label>
            <input type="file" name="image" id="image" class="w-full p-2 border rounded">
        </div>
        <button type="submit" class="btn bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">{{ button_text }}</button>
    </form>
</div>
{% endblock %}